!function(){"use strict";var e={110:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Channel=void 0;var n=function(){function e(e,t,n){void 0===n&&(n={});var r=this;this.handleMessage=function(e){if(e.source===r.send){var t=JSON.parse(e.data),n=r.handler[t.method];n&&n.apply(r,t.arguments)}},this.send=t,this.handler=n,e.addEventListener("message",this.handleMessage)}return e.prototype.call=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.send.postMessage(JSON.stringify({method:e,arguments:t}),"*")},e}();t.Channel=n},934:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Onfido=void 0;var i=n(110),a=["forms","modals","orientation-lock","pointer-lock","popups","popups-to-escape-sandbox","presentation","same-origin","scripts","top-navigation"].map((function(e){return"allow-".concat(e)})),c=["camera","microphone","geolocation"],s=function(e){function t(n){var r=e.call(this)||this;r._initialized=!1,r._tearedDown=!1,r.tearDownHooks=[],r.initialized=function(){r._initialized=!0,r._initializationTimer&&window.clearTimeout(r._initializationTimer),r.bootstrapSdk()},r.loadHandler=function(){var e;null===(e=r.frame)||void 0===e||e.removeEventListener("load",r.loadHandler),r._initialized||(r._initializationTimer=window.setTimeout((function(){r.trigger("error",new Error("Initialization took to long"))}),1e3))},r.errorHandler=function(e){r.trigger("error",e),r.tearDown()},r.frameError=function(e){r.trigger("error",e),r.tearDown()},r.proxyCall=function(e){var t=r.proxy[e.proxyName];t?t.apply(r,e.arguments):console.error("proxy for method ".concat(e.proxyName," not registered."))},r.userAnalyticsEvent=function(e){window.dispatchEvent(new CustomEvent("userAnalyticsEvent",{detail:e}))},t.validateParameters(n),r._options=n;var o=r.createProxyParameters(n),a=o[0],c=o[1];r.proxyParameters=a,r.proxy=c;var s=r.getMount(n),l=(n.url||d.FRAME_URL).replace("<region>",n.region.toLowerCase());return n.workflowLinkId&&(l="".concat(l,"/").concat(n.workflowLinkId)),r.frame=t.createFrame(l),s.appendChild(r.frame),r.channel=new i.Channel(window,r.frame.contentWindow,{initialized:r.initialized,proxyCall:r.proxyCall,userAnalyticsEvent:r.userAnalyticsEvent,error:r.frameError}),r.frame.addEventListener("load",r.loadHandler),r.frame.addEventListener("error",r.errorHandler),r}return o(t,e),t.prototype.tearDown=function(){var e;this.tearDownHooks.forEach((function(e){return e()})),null===(e=this.frame)||void 0===e||e.remove(),this.tearDownHooks=[],this.frame=void 0,this.channel=void 0,this._tearedDown=!0},t.prototype.setOptions=function(){throw this.verifyActive(),new Error("Not implemented")},Object.defineProperty(t.prototype,"containerId",{get:function(){return this.options.containerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),t.prototype.verifyActive=function(){if(this._tearedDown)throw new Error("`tearDown` was invoked. SDK is not interactive anymore.")},t.prototype.bootstrapSdk=function(){var e;null===(e=this.channel)||void 0===e||e.call("bootstrap",this.proxyParameters)},t.createFrame=function(e){var t=document.createElement("iframe");return t.setAttribute("style","width: 100%; min-height: 600px; height: 100%; border: 0"),t.allowFullscreen=!0,t.setAttribute("sandbox",a.join(" ")),t.allow=c.map((function(e){return"".concat(e," *")})).join(";"),t.src=e,t},t.prototype.getMount=function(e){if(e.containerEl)return e.containerEl;if(e.containerId){var t=document.getElementById(e.containerId);if(!t)throw new Error('Mount with id "'.concat(e.containerId,'" not found.'));return t}var n=document.createElement("div");return document.body.appendChild(n),this.tearDownHooks.push((function(){n.remove()})),n},t.prototype.createProxyParameters=function(e){var t=["containerId","containerEl","workflowLinkId","region"],n={};return[Object.fromEntries(Object.entries(e).map((function(e){var r=e[0],o=e[1];if(!t.includes(r)){if("function"==typeof o){var i="__proxy_".concat(r);return n[i]=o,[r,i]}return[r,o]}})).filter((function(e){return void 0!==e}))),n]},t.validateParameters=function(e){var t="'token'",n="'workflowLinkId'";if(!e.token&&!e.workflowLinkId)throw new Error("".concat(t," or ").concat(n," needs to be present."));if(e.token&&e.workflowLinkId)throw new Error("Only one of [".concat(t,", ").concat(n,"] can be provided."));if(e.workflowLinkId&&!e.region)throw new Error("".concat(n," required to provide the 'region' as well."))},t}(function(){function e(){this.handler={}}return e.prototype.trigger=function(e,t){var n=this.handler[e];n&&n.forEach((function(e){e(t)}))},e.prototype.addEventListener=function(e,t){this.handler[e]=this.handler[e]||[],this.handler[e].push(t)},e.prototype.removeEventListener=function(e,t){var n=this.handler[e];n&&n.splice(n.indexOf(t),1)},e}()),d=function(){function e(){}return e.prototype.init=function(e){var t=new s(e);return{tearDown:function(){return t.tearDown()},addEventListener:function(e,n){return t.addEventListener(e,n)},removeEventListener:function(e,n){return t.removeEventListener(e,n)}}},e.FRAME_URL="https://sdk.<region>.onfido.app/frame",e}();t.Onfido=d,window.Onfido=new d}},t={};!function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}(934)}();
//# sourceMappingURL=client.js.map